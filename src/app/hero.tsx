'use client';
import StarsCanvas from '@/components/canvas/StarsCanvas';
import { ScrollTrigger } from 'gsap/ScrollTrigger';
import { useRef } from 'react';
import gsap from 'gsap';
import { useGSAP } from '@gsap/react';

export default function Hero() {
  const sectionRef = useRef<HTMLElement>(null);
  const titleRef = useRef(null);

  useGSAP(() => {
    gsap.registerPlugin(ScrollTrigger);

    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: sectionRef.current,
        start: 'top',
        end: `+=${sectionRef.current?.offsetHeight}`,
        scrub: true,
      },
    });

    tl.fromTo(
      titleRef.current,
      { scale: 1, translateY: 0 },
      { scale: 0.75, translateY: 100 }
    ).to(titleRef.current, { opacity: 0, pointerEvents: 'none' });
  });

  return (
    <section
      ref={sectionRef}
      className="relative flex h-screen items-center justify-center"
    >
      <div ref={titleRef} className="fixed z-0">
        <svg
          className="blur-3xl"
          width="640"
          height="480"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g className="layer">
            <title>Layer 1</title>
            <path
              d="m172.5,110c0,-1.65 0,-2.57 0,-3.43c0,-0.91 -0.08,-1.8 0.28,-2.69c0.28,-0.68 0.7,-1.54 0.71,-2.4c0.02,-0.98 -0.24,-1.8 -0.5,-2.5c-0.36,-0.97 -0.46,-1.77 -0.5,-2.81c-0.03,-0.79 -0.24,-1.67 -0.61,-2.34c-0.53,-0.97 -1.13,-1.55 -1.87,-2.03c-0.67,-0.43 -1.52,-0.87 -2.11,-1.4c-0.74,-0.66 -1.5,-1.34 -2.21,-1.4c-0.9,-0.08 -1.86,0.03 -2.64,-0.43c-0.78,-0.46 -1.45,-0.57 -2.4,-0.57c-0.77,0 -1.76,0 -2.56,0c-1,0 -1.84,0 -2.77,0c-0.79,0 -1.68,0 -2.32,0c-1.4,0 -2.17,0 -3,0.04c-0.44,0.02 -1.85,0.12 -2.88,0.25c-0.53,0.06 -1.59,0.22 -2.11,0.29c-0.98,0.14 -2.24,0.32 -2.88,0.37c-0.9,0.07 -1.79,0.38 -2.44,0.77c-0.84,0.51 -1.32,1.06 -1.77,1.88c-0.43,0.78 -0.31,1.75 -0.71,2.6c-0.28,0.6 -0.57,1.47 -0.8,2.31c-0.24,0.89 -0.8,1.81 -0.92,2.5c-0.17,0.98 -0.42,1.78 -0.7,2.38c-0.47,1.01 -0.92,1.78 -1.13,2.6c-0.21,0.82 -0.24,1.58 -0.61,2.86c-0.11,0.39 -0.41,1.21 -0.71,2.06c-0.29,0.82 -0.63,1.91 -0.79,2.78c-0.13,0.74 -0.27,1.72 -0.5,2.53c-0.25,0.87 -0.57,1.76 -0.86,2.66c-0.19,0.6 -0.46,1.49 -0.62,2.7c-0.08,0.6 -0.09,1.51 -0.31,2.7c-0.11,0.6 -0.4,1.45 -0.61,2.53c-0.14,0.71 -0.18,1.63 -0.39,2.59c-0.17,0.82 -0.41,1.38 -0.61,2.58c-0.15,0.89 -0.16,1.48 -0.17,2.31c-0.02,1.23 0,1.91 0,3.11c0,0.81 0,1.39 0,2.58c0,0.9 0,1.48 0,2.31c0,1.23 0,1.91 0,3.11c0,0.81 0,1.39 0,2.58c0,0.9 0.02,1.5 -0.09,2.4c-0.14,1.21 -0.35,1.79 -0.56,2.64c-0.25,1.03 -0.34,1.96 -0.35,2.64c-0.01,1 0,1.82 0,2.63c0,1 0.01,1.92 -0.17,2.85c-0.15,0.8 -0.43,1.64 -0.55,2.23c-0.24,1.19 -0.27,2.08 -0.28,2.91c-0.01,1 0,1.87 0,2.89c0,0.78 0,1.78 0,2.55c0,0.9 0.04,1.78 0.43,2.62c0.37,0.81 0.56,1.63 0.57,2.6c0.01,0.82 -0.18,1.75 0.04,2.62c0.22,0.86 0.9,1.49 0.96,2.4c0.05,0.8 0.06,1.7 0.5,2.5c0.45,0.8 0.84,1.53 1.22,2.3c0.42,0.85 0.27,1.83 0.71,2.6c0.41,0.73 0.94,1.36 1.67,1.82c0.72,0.45 0.75,1.5 1.34,2.17c0.61,0.69 1.41,1.02 1.85,1.81c0.36,0.65 0.83,1.47 1.52,1.88c0.79,0.48 1.04,1.38 1.48,2.12c0.41,0.68 1.2,1.32 1.81,1.9c0.59,0.56 1.56,0.87 2.38,1.19c0.71,0.28 1.52,0.79 2.21,1.41c0.63,0.57 1.47,1.14 2.13,1.27c1.01,0.2 1.7,0.77 2.59,0.99c0.89,0.22 1.63,-0.03 2.59,0.2c0.81,0.2 1.51,0.64 2.36,1.22c0.73,0.5 1.52,0.69 2.47,1.04c0.77,0.28 1.57,0.47 2.36,0.6c1.01,0.17 1.8,0.49 2.8,0.97c0.6,0.29 1.4,0.71 2.2,1.1c0.8,0.39 1.8,0.75 2.6,0.87c0.8,0.12 1.81,0.37 2.4,0.64c1.01,0.46 1.6,0.79 2.4,1.19c1,0.5 1.58,0.84 2.6,1.08c0.79,0.18 1.8,0.28 2.61,0.55c0.65,0.21 1.61,0.48 2.43,0.54c0.87,0.06 2.06,0.03 2.66,0.04c0.87,0.02 1.95,0.14 2.65,0.35c0.86,0.26 1.85,0.6 2.66,0.64c1,0.05 1.8,0.01 2.8,0.01c0.79,0 1.51,0 2.5,0c0.99,0 1.71,0 2.7,0c0.96,0 1.91,0 2.8,0c0.76,0 1.66,0.05 2.4,-0.06c1.01,-0.15 1.77,-0.6 2.8,-0.82c0.81,-0.17 1.49,-0.11 2.48,-0.12c0.82,-0.01 1.64,-0.03 2.63,-0.28c0.92,-0.24 1.85,-0.57 2.64,-0.66c0.85,-0.1 1.45,-0.08 2.64,-0.34c0.91,-0.19 1.5,-0.41 2.7,-0.81c0.6,-0.2 1.51,-0.52 2.1,-0.79c1.22,-0.56 1.79,-0.94 2.36,-1.29c1.07,-0.66 1.77,-1.06 2.52,-1.46c0.81,-0.44 1.47,-1.02 2.01,-1.66c0.64,-0.75 0.93,-1.66 1.35,-2.34c0.42,-0.68 0.35,-1.68 0.35,-2.53c0,-0.94 0.07,-1.71 -0.01,-2.65c-0.08,-1.02 -0.52,-1.65 -1.19,-2.38c-0.51,-0.55 -0.99,-1.29 -1.4,-1.97c-0.58,-0.95 -1.1,-1.52 -1.8,-2.23c-0.6,-0.6 -1.2,-1.2 -1.9,-1.9c-0.5,-0.5 -1.25,-1.19 -1.8,-2.02c-0.44,-0.66 -0.81,-1.6 -1.4,-2.14c-0.62,-0.56 -1.55,-0.85 -2.2,-1.19c-0.89,-0.47 -1.76,-0.55 -2.49,-0.96c-0.81,-0.46 -1.51,-1.03 -2.31,-1.39c-0.8,-0.35 -1.65,-0.75 -2.5,-1.17c-0.65,-0.32 -1.43,-0.75 -2.32,-1.05c-0.69,-0.24 -1.87,-0.19 -2.56,-0.78c-0.56,-0.49 -1.02,-1.07 -1.7,-1.57c-0.67,-0.49 -1.57,-0.79 -2.23,-1.14c-0.85,-0.45 -1.68,-0.78 -2.28,-1.37c-0.63,-0.62 -1.21,-1.23 -1.92,-1.92c-0.63,-0.61 -1.35,-1.05 -1.98,-1.5c-0.9,-0.64 -1.15,-1.53 -1.63,-2.1c-0.64,-0.75 -1.39,-1.4 -1.89,-1.9c-0.7,-0.7 -1.3,-1.3 -1.9,-1.9c-0.7,-0.7 -1.24,-1.3 -1.6,-2.1c-0.36,-0.8 -1.09,-1.43 -1.56,-2.1c-0.52,-0.73 -0.84,-1.53 -1.27,-2.4c-0.37,-0.75 -0.71,-1.48 -1.37,-2.2c-0.53,-0.58 -0.84,-1.51 -1.3,-2.3c-0.41,-0.71 -0.32,-1.65 -0.67,-2.5c-0.32,-0.78 -0.82,-1.5 -0.83,-2.4c-0.01,-0.9 0.08,-1.8 0,-2.7c-0.08,-0.91 -0.76,-1.44 -0.98,-2.4c-0.2,-0.88 0.01,-1.8 -0.02,-2.7c-0.03,-0.86 -0.8,-1.46 -0.98,-2.28c-0.2,-0.92 -0.02,-1.8 -0.02,-2.74c0,-0.86 -0.24,-1.73 -0.65,-2.42c-0.44,-0.74 -0.35,-1.71 -0.35,-2.56c0,-0.9 -0.1,-1.73 -0.57,-2.37c-0.52,-0.71 -0.43,-1.71 -0.43,-2.59c0,-0.89 0.36,-1.94 -0.17,-2.67c-0.48,-0.66 -0.83,-1.25 -0.83,-2.17c0,-0.87 0,-1.71 0,-2.64c0,-0.85 0.2,-1.86 -0.22,-2.57c-0.47,-0.8 -0.78,-1.43 -0.78,-2.35c0,-0.86 0,-1.72 0,-2.65c0,-0.95 -0.17,-1.78 -0.65,-2.42l0,-0.71l0.65,-0.66"
              fill="#836FFF"
              id="svg_2"
              stroke="#836FFF"
            />
          </g>
        </svg>
        <h1 className="grid grid-cols-[repeat(3,auto)] gap-x-2 text-large font-bold text-gray lg:gap-x-6">
          <div className="col-span-2 col-start-2 flex gap-x-2 lg:gap-x-6">
            <span>I'm</span>
            <span>Pavel</span>
          </div>
          <span>A</span>
          <span>Frontend</span>
          <span>Developer</span>
          <div className="col-start-3 flex gap-x-2 lg:gap-x-6">
            <span>for</span>
            <span>you</span>
          </div>
        </h1>
      </div>
    </section>
  );
}
